<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>3D Heart Model – Three.js</title>
  <style>
    body { margin: 0; overflow: hidden; background: #000814; font-family: Arial, sans-serif; }
    #info {
      position: absolute;
      top: 15px;
      left: 15px;
      color: #e9ecef;
      background: rgba(0,0,0,0.5);
      padding: 12px 18px;
      border-radius: 8px;
      pointer-events: none;
      user-select: none;
      font-size: 0.95rem;
    }
    a { color: #4cc9f0; text-decoration: none; }
  </style>
</head>
<body>

<div id="info">
  3D Heart • Three.js<br>
  Drag to rotate • Scroll to zoom
</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.168.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.168.0/examples/js/controls/OrbitControls.min.js"></script>

<script>
// ────────────────────────────────────────────────
// Scene setup
const scene = new THREE.Scene();
scene.background = new THREE.Color(0x000814);

const camera = new THREE.PerspectiveCamera(60, innerWidth / innerHeight, 0.1, 100);
camera.position.set(0, 0, 8);

const renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setSize(innerWidth, innerHeight);
renderer.setPixelRatio(window.devicePixelRatio);
document.body.appendChild(renderer.domElement);

const controls = new THREE.OrbitControls(camera, renderer.domElement);
controls.enableDamping = true;
controls.dampingFactor = 0.06;
controls.minDistance = 3;
controls.maxDistance = 18;

// ─── Lights ─────────────────────────────────────
scene.add(new THREE.AmbientLight(0xffffff, 0.5));

const keyLight = new THREE.DirectionalLight(0xfff5e1, 1.8);
keyLight.position.set(5, 8, 6);
scene.add(keyLight);

const rimLight = new THREE.DirectionalLight(0xaaccee, 1.1);
rimLight.position.set(-6, 5, -7);
scene.add(rimLight);

// ─── Heart Shape ────────────────────────────────
const heartShape = new THREE.Shape();

heartShape.moveTo(0, 3);
heartShape.bezierCurveTo(0, 3,      0, 0,     -3, 0);
heartShape.bezierCurveTo(-6, 0,    -6, 4.5,   -6, 4.5);
heartShape.bezierCurveTo(-6, 7.5,  -2, 9.5,    0, 11);
heartShape.bezierCurveTo( 2, 9.5,   6, 7.5,    6, 4.5);
heartShape.bezierCurveTo( 6, 4.5,   6, 0,      3, 0);
heartShape.bezierCurveTo( 0, 0,     0, 3,      0, 3);

// ─── Extrude into 3D ────────────────────────────
const extrudeSettings = {
  depth: 1.2,
  bevelEnabled: true,
  bevelSegments: 8,
  steps: 5,
  bevelSize: 0.6,
  bevelThickness: 0.8,
  curveSegments: 12
};

const geometry = new THREE.ExtrudeGeometry(heartShape, extrudeSettings);
geometry.center();                // center the model
geometry.rotateX(Math.PI);        // flip so the nice side faces camera

const material = new THREE.MeshStandardMaterial({
  color: 0xe63946,
  emissive: 0x30000a,
  emissiveIntensity: 0.35,
  metalness: 0.08,
  roughness: 0.55
});

const heart = new THREE.Mesh(geometry, material);
scene.add(heart);

// Optional: add subtle wireframe
const wireMat = new THREE.MeshBasicMaterial({ color: 0xffffff, wireframe: true, transparent: true, opacity: 0.12 });
const wire = new THREE.Mesh(geometry, wireMat);
heart.add(wire);

// ─── Animation: gentle beating + rotation ───────
let time = 0;

function animate() {
  requestAnimationFrame(animate);
  time += 0.016;

  // Gentle pulsing scale
  const pulse = Math.sin(time * 5.8) * 0.5 + 0.5; // 0…1
  const scale = 1 + pulse * 0.08;
  heart.scale.set(scale, scale, scale * 0.96);     // slightly squash z for realism

  // Slow rotation
  heart.rotation.y += 0.0035;

  controls.update();
  renderer.render(scene, camera);
}

animate();

// ─── Resize handler ─────────────────────────────
window.addEventListener('resize', () => {
  camera.aspect = innerWidth / innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth, innerHeight);
});
</script>
</body>
</html>
